{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst commons_js_1 = require(\"./commons.js\");\n\nconst withNativeBlob = typeof Blob === \"function\" || typeof Blob !== \"undefined\" && Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\"; // ArrayBuffer.isView method is not defined in IE10\n\nconst isView = obj => {\n  return typeof ArrayBuffer.isView === \"function\" ? ArrayBuffer.isView(obj) : obj && obj.buffer instanceof ArrayBuffer;\n};\n\nconst encodePacket = (_ref, supportsBinary, callback) => {\n  let {\n    type,\n    data\n  } = _ref;\n\n  if (withNativeBlob && data instanceof Blob) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(data, callback);\n    }\n  } else if (withNativeArrayBuffer && (data instanceof ArrayBuffer || isView(data))) {\n    if (supportsBinary) {\n      return callback(data);\n    } else {\n      return encodeBlobAsBase64(new Blob([data]), callback);\n    }\n  } // plain string\n\n\n  return callback(commons_js_1.PACKET_TYPES[type] + (data || \"\"));\n};\n\nconst encodeBlobAsBase64 = (data, callback) => {\n  const fileReader = new FileReader();\n\n  fileReader.onload = function () {\n    const content = fileReader.result.split(\",\")[1];\n    callback(\"b\" + content);\n  };\n\n  return fileReader.readAsDataURL(data);\n};\n\nexports.default = encodePacket;","map":{"version":3,"sources":["C:/Workspace/Skull-King-React/node_modules/engine.io-parser/build/cjs/encodePacket.browser.js"],"names":["Object","defineProperty","exports","value","commons_js_1","require","withNativeBlob","Blob","prototype","toString","call","withNativeArrayBuffer","ArrayBuffer","isView","obj","buffer","encodePacket","supportsBinary","callback","type","data","encodeBlobAsBase64","PACKET_TYPES","fileReader","FileReader","onload","content","result","split","readAsDataURL","default"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,YAAY,GAAGC,OAAO,CAAC,cAAD,CAA5B;;AACA,MAAMC,cAAc,GAAG,OAAOC,IAAP,KAAgB,UAAhB,IAClB,OAAOA,IAAP,KAAgB,WAAhB,IACGP,MAAM,CAACQ,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BH,IAA/B,MAAyC,0BAFjD;AAGA,MAAMI,qBAAqB,GAAG,OAAOC,WAAP,KAAuB,UAArD,C,CACA;;AACA,MAAMC,MAAM,GAAGC,GAAG,IAAI;AAClB,SAAO,OAAOF,WAAW,CAACC,MAAnB,KAA8B,UAA9B,GACDD,WAAW,CAACC,MAAZ,CAAmBC,GAAnB,CADC,GAEDA,GAAG,IAAIA,GAAG,CAACC,MAAJ,YAAsBH,WAFnC;AAGH,CAJD;;AAKA,MAAMI,YAAY,GAAG,OAAiBC,cAAjB,EAAiCC,QAAjC,KAA8C;AAAA,MAA7C;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAA6C;;AAC/D,MAAId,cAAc,IAAIc,IAAI,YAAYb,IAAtC,EAA4C;AACxC,QAAIU,cAAJ,EAAoB;AAChB,aAAOC,QAAQ,CAACE,IAAD,CAAf;AACH,KAFD,MAGK;AACD,aAAOC,kBAAkB,CAACD,IAAD,EAAOF,QAAP,CAAzB;AACH;AACJ,GAPD,MAQK,IAAIP,qBAAqB,KACzBS,IAAI,YAAYR,WAAhB,IAA+BC,MAAM,CAACO,IAAD,CADZ,CAAzB,EAC8C;AAC/C,QAAIH,cAAJ,EAAoB;AAChB,aAAOC,QAAQ,CAACE,IAAD,CAAf;AACH,KAFD,MAGK;AACD,aAAOC,kBAAkB,CAAC,IAAId,IAAJ,CAAS,CAACa,IAAD,CAAT,CAAD,EAAmBF,QAAnB,CAAzB;AACH;AACJ,GAjB8D,CAkB/D;;;AACA,SAAOA,QAAQ,CAACd,YAAY,CAACkB,YAAb,CAA0BH,IAA1B,KAAmCC,IAAI,IAAI,EAA3C,CAAD,CAAf;AACH,CApBD;;AAqBA,MAAMC,kBAAkB,GAAG,CAACD,IAAD,EAAOF,QAAP,KAAoB;AAC3C,QAAMK,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;AACAD,EAAAA,UAAU,CAACE,MAAX,GAAoB,YAAY;AAC5B,UAAMC,OAAO,GAAGH,UAAU,CAACI,MAAX,CAAkBC,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,CAAhB;AACAV,IAAAA,QAAQ,CAAC,MAAMQ,OAAP,CAAR;AACH,GAHD;;AAIA,SAAOH,UAAU,CAACM,aAAX,CAAyBT,IAAzB,CAAP;AACH,CAPD;;AAQAlB,OAAO,CAAC4B,OAAR,GAAkBd,YAAlB","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst commons_js_1 = require(\"./commons.js\");\r\nconst withNativeBlob = typeof Blob === \"function\" ||\r\n    (typeof Blob !== \"undefined\" &&\r\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\r\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\r\n// ArrayBuffer.isView method is not defined in IE10\r\nconst isView = obj => {\r\n    return typeof ArrayBuffer.isView === \"function\"\r\n        ? ArrayBuffer.isView(obj)\r\n        : obj && obj.buffer instanceof ArrayBuffer;\r\n};\r\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\r\n    if (withNativeBlob && data instanceof Blob) {\r\n        if (supportsBinary) {\r\n            return callback(data);\r\n        }\r\n        else {\r\n            return encodeBlobAsBase64(data, callback);\r\n        }\r\n    }\r\n    else if (withNativeArrayBuffer &&\r\n        (data instanceof ArrayBuffer || isView(data))) {\r\n        if (supportsBinary) {\r\n            return callback(data);\r\n        }\r\n        else {\r\n            return encodeBlobAsBase64(new Blob([data]), callback);\r\n        }\r\n    }\r\n    // plain string\r\n    return callback(commons_js_1.PACKET_TYPES[type] + (data || \"\"));\r\n};\r\nconst encodeBlobAsBase64 = (data, callback) => {\r\n    const fileReader = new FileReader();\r\n    fileReader.onload = function () {\r\n        const content = fileReader.result.split(\",\")[1];\r\n        callback(\"b\" + content);\r\n    };\r\n    return fileReader.readAsDataURL(data);\r\n};\r\nexports.default = encodePacket;\r\n"]},"metadata":{},"sourceType":"script"}