{"ast":null,"code":"var _jsxFileName = \"/Users/elijahgreene/Workspace/Skull-King-React/src/components/GameLobbyPage/GameLobbyPage.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext } from '../../Contexts/AppContext';\nimport PlayerList from '../PlayerList/PlayerList';\nimport Button from '../UI/Button/Button';\nimport ApplicationInput from '../UI/Input/ApplicationInput';\nimport MainView from '../UI/MainView/MainView';\nimport TitleHeader from '../UI/TitleHeader/TitleHeader';\nimport styles from './GameLobbyPage.module.css';\nimport socket from '../../Socket/Socket';\nimport Label from '../UI/Label/Label';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GameLobbyPage = () => {\n  _s();\n\n  const {\n    id,\n    setId,\n    name,\n    gameId,\n    host,\n    setHost,\n    playerList,\n    setPlayerList,\n    setCurrentRound,\n    scoreBoard,\n    setScoreboard\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Test Connection with Socket\n    socket.emit('pingSocket', 'Hello from React'); // Join room *Will create new if doesn't exist*\n\n    console.log('Attepting to join room with name', name);\n    console.log('Attepting to join room with id', gameId);\n    const data = {\n      gameId: gameId,\n      name: name\n    };\n    socket.emit('joinGame', data); // Client Listeners\n\n    socket.on('pingClient', msg => {\n      console.log('New Message: ', msg);\n    });\n    socket.on('setPlayerId', playerId => {\n      localStorage.setItem('skPlayerId', playerId);\n      setId(playerId);\n    });\n    socket.on('gameJoined', data => {\n      console.log('game Joined Data: ', data);\n      localStorage.setItem('skGameId', data.gameId);\n      setPlayerList(data.playerList);\n      localStorage.setItem('skPlayerList', data.playerList);\n      setHost(data.playerList[0]);\n      localStorage.setItem('skHost', data.playerList[0]);\n    });\n    socket.on('removePlayer', data => {\n      console.log('removing player');\n      setPlayerList(data.players);\n      localStorage.setItem('skPlayerList', data.players);\n      setHost(data.players[0]);\n      localStorage.setItem('skHost', data.players[0]);\n    });\n    socket.on('start', data => {\n      console.log('Starting Game: ', data);\n      setCurrentRound(data.currentRound);\n      localStorage.setItem('skCurrentRound', data.currentRound);\n      setScoreboard(data.scoreBoard);\n      console.log(\"EGGGGG: \", localStorage.getItem('skScoreboard'));\n      localStorage.setItem('skScoreboard', data.scoreBoard);\n      navigate('/bid');\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MainView, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.gameLobbyPage,\n      children: [/*#__PURE__*/_jsxDEV(TitleHeader, {\n        children: \"Skull King\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PlayerList, {\n        players: playerList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ApplicationInput, {\n          value: gameId,\n          readOnly: true,\n          children: \"Invite Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), id === host.id ? /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.button,\n          onClick: () => {\n            const data = {\n              gameId: gameId\n            };\n            socket.emit('start', data);\n          },\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Label, {\n          className: styles.waitingLabel,\n          children: \"Waiting for host...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GameLobbyPage, \"4vJOdY1fHX/H1tEOgs8IbZHVEO8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = GameLobbyPage;\nexport default GameLobbyPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameLobbyPage\");","map":{"version":3,"sources":["/Users/elijahgreene/Workspace/Skull-King-React/src/components/GameLobbyPage/GameLobbyPage.js"],"names":["useContext","useEffect","useState","useNavigate","AppContext","PlayerList","Button","ApplicationInput","MainView","TitleHeader","styles","socket","Label","GameLobbyPage","id","setId","name","gameId","host","setHost","playerList","setPlayerList","setCurrentRound","scoreBoard","setScoreboard","navigate","emit","console","log","data","on","msg","playerId","localStorage","setItem","players","currentRound","getItem","gameLobbyPage","button","waitingLabel"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext } from '../../Contexts/AppContext';\nimport PlayerList from '../PlayerList/PlayerList';\nimport Button from '../UI/Button/Button';\nimport ApplicationInput from '../UI/Input/ApplicationInput';\nimport MainView from '../UI/MainView/MainView';\nimport TitleHeader from '../UI/TitleHeader/TitleHeader';\nimport styles from './GameLobbyPage.module.css';\nimport socket from '../../Socket/Socket';\nimport Label from '../UI/Label/Label';\n\nconst GameLobbyPage = () => {\n    const {\n        id,\n        setId,\n        name,\n        gameId,\n        host,\n        setHost,\n        playerList,\n        setPlayerList,\n        setCurrentRound,\n        scoreBoard,\n        setScoreboard,\n    } = useContext(AppContext);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        // Test Connection with Socket\n        socket.emit('pingSocket', 'Hello from React');\n\n        // Join room *Will create new if doesn't exist*\n        console.log('Attepting to join room with name', name);\n        console.log('Attepting to join room with id', gameId);\n        const data = {\n            gameId: gameId,\n            name: name,\n        };\n        socket.emit('joinGame', data);\n\n        // Client Listeners\n        socket.on('pingClient', (msg) => {\n            console.log('New Message: ', msg);\n        });\n\n        socket.on('setPlayerId', (playerId) => {\n            localStorage.setItem('skPlayerId', playerId)\n            setId(playerId);\n        });\n\n        socket.on('gameJoined', (data) => {\n            console.log('game Joined Data: ', data);\n            localStorage.setItem('skGameId', data.gameId)\n            setPlayerList(data.playerList);\n            localStorage.setItem('skPlayerList', data.playerList)\n            setHost(data.playerList[0]);\n            localStorage.setItem('skHost', data.playerList[0])\n        });\n\n        socket.on('removePlayer', (data) => {\n            console.log('removing player');\n            setPlayerList(data.players);\n            localStorage.setItem('skPlayerList', data.players)\n            setHost(data.players[0]);\n            localStorage.setItem('skHost', data.players[0])\n        });\n\n        socket.on('start', (data) => {\n            console.log('Starting Game: ', data);\n            setCurrentRound(data.currentRound);\n            localStorage.setItem('skCurrentRound', data.currentRound)\n            setScoreboard(data.scoreBoard);\n            console.log(\"EGGGGG: \", localStorage.getItem('skScoreboard'))\n            localStorage.setItem('skScoreboard', data.scoreBoard)\n            navigate('/bid');\n        });\n    }, []);\n\n    return (\n        <MainView>\n            <div className={styles.gameLobbyPage}>\n                <TitleHeader>Skull King</TitleHeader>\n                <PlayerList players={playerList} />\n                <div>\n                    <ApplicationInput value={gameId} readOnly={true}>\n                        Invite Code\n                    </ApplicationInput>\n\n                    {id === host.id ? (\n                        <Button\n                            className={styles.button}\n                            onClick={() => {\n                                const data = {\n                                    gameId: gameId,\n                                };\n                                socket.emit('start', data);\n                            }}\n                        >\n                            Start\n                        </Button>\n                    ) : (\n                        <Label className={styles.waitingLabel}>\n                            Waiting for host...\n                        </Label>\n                    )}\n                </div>\n            </div>\n        </MainView>\n    );\n};\n\nexport default GameLobbyPage;\n"]},"metadata":{},"sourceType":"module"}