{"ast":null,"code":"var _jsxFileName = \"/Users/elijahgreene/Workspace/Skull-King-React/src/components/GameLobbyPage/GameLobbyPage.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext } from '../../Contexts/AppContext';\nimport PlayerList from '../PlayerList/PlayerList';\nimport Button from '../UI/Button/Button';\nimport ApplicationInput from '../UI/Input/ApplicationInput';\nimport MainView from '../UI/MainView/MainView';\nimport TitleHeader from '../UI/TitleHeader/TitleHeader';\nimport styles from './GameLobbyPage.module.css';\nimport socket from '../../Socket/Socket';\nimport Label from '../UI/Label/Label';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GameLobbyPage = () => {\n  _s();\n\n  const {\n    id,\n    setId,\n    name,\n    gameId,\n    host,\n    setHost,\n    playerList,\n    setPlayerList,\n    setCurrentRound,\n    scoreBoard,\n    setScoreboard\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n  useEffect(() => {\n    console.log(\"PLAYER LIST TEST: \", playerList); // Test Connection with Socket\n\n    socket.emit('pingSocket', 'Hello from React');\n\n    if (localStorage.getItem('skGameId') != gameId) {\n      // Join room *Will create new if doesn't exist*\n      console.log('Attepting to join room with name', name);\n      console.log('Attepting to join room with id', gameId);\n      const data = {\n        gameId: gameId,\n        name: name\n      };\n      socket.emit('joinGame', data);\n    }\n\n    localStorage.setItem('skGameId', gameId); // Client Listeners\n\n    socket.on('pingClient', msg => {\n      console.log('New Message: ', msg);\n    });\n    socket.on('setPlayerId', playerId => {\n      localStorage.setItem('skPlayerId', playerId);\n      setId(playerId);\n    });\n    socket.on('gameJoined', data => {\n      console.log('game Joined Data: ', data);\n      localStorage.setItem('skGameId', data.gameId);\n      setPlayerList(data.playerList);\n      localStorage.setItem('skPlayerList', data.playerList);\n      setHost(data.playerList[0]);\n      localStorage.setItem('skHost', data.playerList[0]);\n    });\n    socket.on('removePlayer', data => {\n      console.log('removing player');\n      setPlayerList(data.players);\n      localStorage.setItem('skPlayerList', data.players);\n      setHost(data.players[0]);\n      localStorage.setItem('skHost', data.players[0]);\n    });\n    socket.on('start', data => {\n      console.log('Starting Game: ', data);\n      setCurrentRound(data.currentRound);\n      localStorage.setItem('skCurrentRound', data.currentRound);\n      setScoreboard(data.scoreBoard);\n      console.log(\"EGGGGG: \", localStorage.getItem('skScoreboard'));\n      localStorage.setItem('skScoreboard', data.scoreBoard);\n      navigate('/bid');\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(MainView, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.gameLobbyPage,\n      children: [/*#__PURE__*/_jsxDEV(TitleHeader, {\n        children: \"Skull King\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PlayerList, {\n        players: playerList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(ApplicationInput, {\n          value: gameId,\n          readOnly: true,\n          children: \"Invite Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), id === host.id ? /*#__PURE__*/_jsxDEV(Button, {\n          className: styles.button,\n          onClick: () => {\n            const data = {\n              gameId: gameId\n            };\n            socket.emit('start', data);\n          },\n          children: \"Start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Label, {\n          className: styles.waitingLabel,\n          children: \"Waiting for host...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n};\n\n_s(GameLobbyPage, \"4vJOdY1fHX/H1tEOgs8IbZHVEO8=\", false, function () {\n  return [useNavigate];\n});\n\n_c = GameLobbyPage;\nexport default GameLobbyPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"GameLobbyPage\");","map":{"version":3,"sources":["/Users/elijahgreene/Workspace/Skull-King-React/src/components/GameLobbyPage/GameLobbyPage.js"],"names":["useContext","useEffect","useState","useNavigate","AppContext","PlayerList","Button","ApplicationInput","MainView","TitleHeader","styles","socket","Label","GameLobbyPage","id","setId","name","gameId","host","setHost","playerList","setPlayerList","setCurrentRound","scoreBoard","setScoreboard","navigate","console","log","emit","localStorage","getItem","data","setItem","on","msg","playerId","players","currentRound","gameLobbyPage","button","waitingLabel"],"mappings":"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","sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AppContext } from '../../Contexts/AppContext';\nimport PlayerList from '../PlayerList/PlayerList';\nimport Button from '../UI/Button/Button';\nimport ApplicationInput from '../UI/Input/ApplicationInput';\nimport MainView from '../UI/MainView/MainView';\nimport TitleHeader from '../UI/TitleHeader/TitleHeader';\nimport styles from './GameLobbyPage.module.css';\nimport socket from '../../Socket/Socket';\nimport Label from '../UI/Label/Label';\n\nconst GameLobbyPage = () => {\n    const {\n        id,\n        setId,\n        name,\n        gameId,\n        host,\n        setHost,\n        playerList,\n        setPlayerList,\n        setCurrentRound,\n        scoreBoard,\n        setScoreboard,\n    } = useContext(AppContext);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        console.log(\"PLAYER LIST TEST: \", playerList)\n\n        // Test Connection with Socket\n        socket.emit('pingSocket', 'Hello from React');\n\n\n        if (localStorage.getItem('skGameId') != gameId) {\n            // Join room *Will create new if doesn't exist*\n            console.log('Attepting to join room with name', name);\n            console.log('Attepting to join room with id', gameId);\n            const data = {\n                gameId: gameId,\n                name: name,\n            };\n            socket.emit('joinGame', data);\n        }\n\n        localStorage.setItem('skGameId', gameId)\n\n\n        // Client Listeners\n        socket.on('pingClient', (msg) => {\n            console.log('New Message: ', msg);\n        });\n\n        socket.on('setPlayerId', (playerId) => {\n            localStorage.setItem('skPlayerId', playerId)\n            setId(playerId);\n        });\n\n        socket.on('gameJoined', (data) => {\n            console.log('game Joined Data: ', data);\n            localStorage.setItem('skGameId', data.gameId)\n            setPlayerList(data.playerList);\n            localStorage.setItem('skPlayerList', data.playerList)\n            setHost(data.playerList[0]);\n            localStorage.setItem('skHost', data.playerList[0])\n        });\n\n        socket.on('removePlayer', (data) => {\n            console.log('removing player');\n            setPlayerList(data.players);\n            localStorage.setItem('skPlayerList', data.players)\n            setHost(data.players[0]);\n            localStorage.setItem('skHost', data.players[0])\n        });\n\n        socket.on('start', (data) => {\n            console.log('Starting Game: ', data);\n            setCurrentRound(data.currentRound);\n            localStorage.setItem('skCurrentRound', data.currentRound)\n            setScoreboard(data.scoreBoard);\n            console.log(\"EGGGGG: \", localStorage.getItem('skScoreboard'))\n            localStorage.setItem('skScoreboard', data.scoreBoard)\n            navigate('/bid');\n        });\n    }, []);\n\n    return (\n        <MainView>\n            <div className={styles.gameLobbyPage}>\n                <TitleHeader>Skull King</TitleHeader>\n                <PlayerList players={playerList} />\n                <div>\n                    <ApplicationInput value={gameId} readOnly={true}>\n                        Invite Code\n                    </ApplicationInput>\n\n                    {id === host.id ? (\n                        <Button\n                            className={styles.button}\n                            onClick={() => {\n                                const data = {\n                                    gameId: gameId,\n                                };\n                                socket.emit('start', data);\n                            }}\n                        >\n                            Start\n                        </Button>\n                    ) : (\n                        <Label className={styles.waitingLabel}>\n                            Waiting for host...\n                        </Label>\n                    )}\n                </div>\n            </div>\n        </MainView>\n    );\n};\n\nexport default GameLobbyPage;\n"]},"metadata":{},"sourceType":"module"}